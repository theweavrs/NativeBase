{"version":3,"sources":["../../../src/basic/Accordion.js"],"names":["DefaultHeader","variables","context","theme","variable","styles","defaultHeader","props","headerStyle","backgroundColor","title","fontSize","expanded","expandedIcon","expandedIconStyle","color","icon","iconStyle","React","Component","DefaultContent","padding","contentStyle","content","AccordionSubItem","state","fadeAnim","Animated","Value","timing","toValue","duration","start","style","opacity","children","AccordionItem","setSelected","index","renderHeader","item","renderContent","Accordion","selected","undefined","setState","dataArray","borderColor","accordionBorderColor","borderWidth","String","bind","StyleSheet","create","flexDirection","justifyContent","alignItems"],"mappings":"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","file":"Accordion.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  Animated,\r\n  TouchableWithoutFeedback,\r\n  FlatList,\r\n  StyleSheet,\r\n  View\r\n} from \"react-native\";\r\nimport { Text } from \"./Text\";\r\nimport { Icon } from \"./Icon\";\r\nimport variable from \"../theme/variables/platform\";\r\n\r\nclass DefaultHeader extends React.Component {\r\n  render() {\r\n    const variables = this.context.theme\r\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\r\n      : variable;\r\n    return (\r\n      <View\r\n        style={[\r\n          styles.defaultHeader,\r\n          this.props.headerStyle\r\n            ? this.props.headerStyle\r\n            : { backgroundColor: variables.headerStyle }\r\n        ]}\r\n      >\r\n        <Text> {this.props.title}</Text>\r\n        <Icon\r\n          style={[\r\n            { fontSize: 18 },\r\n            this.props.expanded\r\n              ? this.props.expandedIcon && this.props.expandedIconStyle\r\n                ? this.props.expandedIconStyle\r\n                : { color: variables.expandedIconStyle }\r\n              : this.props.icon && this.props.iconStyle\r\n                ? this.props.iconStyle\r\n                : { color: variables.iconStyle }\r\n          ]}\r\n          name={\r\n            this.props.expanded\r\n              ? this.props.expandedIcon\r\n                ? this.props.expandedIcon\r\n                : \"ios-arrow-up\"\r\n              : this.props.icon\r\n                ? this.props.icon\r\n                : \"ios-arrow-down\"\r\n          }\r\n        />\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nclass DefaultContent extends React.Component {\r\n  render() {\r\n    const variables = this.context.theme\r\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\r\n      : variable;\r\n    return (\r\n      <Text\r\n        style={[\r\n          { padding: 10 },\r\n          this.props.contentStyle\r\n            ? this.props.contentStyle\r\n            : { backgroundColor: variables.contentStyle }\r\n        ]}\r\n      >\r\n        {this.props.content}\r\n      </Text>\r\n    );\r\n  }\r\n}\r\n\r\nclass AccordionSubItem extends React.Component {\r\n  state = {\r\n    fadeAnim: new Animated.Value(0.3)\r\n  };\r\n  componentDidMount() {\r\n    Animated.timing(this.state.fadeAnim, {\r\n      toValue: 1,\r\n      duration: 500\r\n    }).start();\r\n  }\r\n  render() {\r\n    let { fadeAnim } = this.state;\r\n    return (\r\n      <Animated.View style={{ ...this.props.style, opacity: fadeAnim }}>\r\n        {this.props.children}\r\n      </Animated.View>\r\n    );\r\n  }\r\n}\r\n\r\nclass AccordionItem extends React.Component {\r\n  render() {\r\n    return (\r\n      <View>\r\n        <TouchableWithoutFeedback\r\n          onPress={() => this.props.setSelected(this.props.index)}\r\n        >\r\n          <View>\r\n            {this.props.renderHeader ? (\r\n              this.props.renderHeader(this.props.item, this.props.expanded)\r\n            ) : (\r\n                <DefaultHeader\r\n                  title={this.props.item.title}\r\n                  expanded={this.props.expanded}\r\n                  headerStyle={this.props.headerStyle}\r\n                  icon={this.props.icon}\r\n                  iconStyle={this.props.iconStyle}\r\n                  expandedIcon={this.props.expandedIcon}\r\n                  expandedIconStyle={this.props.expandedIconStyle}\r\n                />\r\n              )}\r\n          </View>\r\n        </TouchableWithoutFeedback>\r\n        {this.props.expanded ? (\r\n          <AccordionSubItem>\r\n            {this.props.renderContent ? (\r\n              this.props.renderContent(this.props.item)\r\n            ) : (\r\n                <DefaultContent\r\n                  content={this.props.item.content}\r\n                  contentStyle={this.props.contentStyle}\r\n                />\r\n              )}\r\n          </AccordionSubItem>\r\n        ) : null}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nexport class Accordion extends React.Component {\r\n  state = { selected: undefined };\r\n  setSelected(index) {\r\n    if (this.state.selected === index) {\r\n      this.setState({ selected: undefined });\r\n    } else {\r\n      this.setState({ selected: index });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ selected: this.props.expanded });\r\n  }\r\n\r\n  render() {\r\n    const variables = this.context.theme\r\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\r\n      : variable;\r\n    return (\r\n      <FlatList\r\n        data={this.props.dataArray}\r\n        extraData={this.state}\r\n        style={[\r\n          {\r\n            borderColor: variables.accordionBorderColor,\r\n            borderWidth: variables.borderWidth\r\n          },\r\n          this.props.style\r\n        ]}\r\n        keyExtractor={(item, index) => String(index)}\r\n        renderItem={({ item, index }) => (\r\n          <AccordionItem\r\n            key={String(index)}\r\n            item={item}\r\n            expanded={this.state.selected === index}\r\n            index={index}\r\n            setSelected={this.setSelected.bind(this)}\r\n            headerStyle={this.props.headerStyle}\r\n            contentStyle={this.props.contentStyle}\r\n            renderHeader={this.props.renderHeader}\r\n            renderContent={this.props.renderContent}\r\n            icon={this.props.icon}\r\n            iconStyle={this.props.iconStyle}\r\n            expandedIcon={this.props.expandedIcon}\r\n            expandedIconStyle={this.props.expandedIconStyle}\r\n          />\r\n        )}\r\n        {...this.props}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  defaultHeader: {\r\n    flexDirection: \"row\",\r\n    padding: 10,\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\"\r\n  }\r\n});\r\n"]}