{"version":3,"sources":["../../../src/basic/DatePicker.js"],"names":["DatePicker","props","state","modalVisible","defaultDate","Date","chosenDate","placeHolderText","undefined","date","setState","onDateChange","Platform","OS","openAndroidDatePicker","DatePickerAndroid","open","minDate","minimumDate","maxDate","maximumDate","mode","androidMode","newDate","action","year","month","day","selectedDate","code","message","console","warn","formatChosenDate","getDate","getMonth","getFullYear","join","variables","context","theme","variable","disabled","showDatePicker","bind","padding","color","datePickerTextColor","textStyle","placeHolderTextStyle","animationType","modalTransparent","backgroundColor","datePickerBg","flex","setDate","locale","timeZoneOffsetInMinutes","React","Component","defaultProps"],"mappings":"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","file":"DatePicker.js","sourcesContent":["import React from \"react\";\r\nimport {\r\n  Modal,\r\n  View,\r\n  Platform,\r\n  DatePickerIOS,\r\n  DatePickerAndroid\r\n} from \"react-native\";\r\nimport { Text } from \"./Text\";\r\nimport variable from \"../theme/variables/platform\";\r\n\r\nexport class DatePicker extends React.Component {\r\n  static defaultProps = {\r\n    disabled: false\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modalVisible: false,\r\n      defaultDate: props.defaultDate ? props.defaultDate : new Date(),\r\n      chosenDate: !props.placeHolderText && props.defaultDate ? props.defaultDate : undefined\r\n    };\r\n  }\r\n\r\n  setDate(date) {\r\n    this.setState({ chosenDate: new Date(date) });\r\n    if (this.props.onDateChange) {\r\n      this.props.onDateChange(date);\r\n    }\r\n  }\r\n\r\n  showDatePicker() {\r\n    if (Platform.OS === \"android\") {\r\n      this.openAndroidDatePicker();\r\n    } else {\r\n      this.setState({ modalVisible: true });\r\n    }\r\n  }\r\n\r\n  async openAndroidDatePicker() {\r\n    try {\r\n      const newDate = await DatePickerAndroid.open({\r\n        date: this.state.chosenDate\r\n          ? this.state.chosenDate\r\n          : this.state.defaultDate,\r\n        minDate: this.props.minimumDate,\r\n        maxDate: this.props.maximumDate,\r\n        mode: this.props.androidMode\r\n      });\r\n      const { action, year, month, day } = newDate;\r\n      if (action === \"dateSetAction\") {\r\n        let selectedDate = new Date(year, month, day);\r\n        this.setState({ chosenDate: selectedDate });\r\n        this.props.onDateChange(selectedDate);\r\n      }\r\n    } catch ({ code, message }) {\r\n      console.warn(\"Cannot open date picker\", message);\r\n    }\r\n  }\r\n\r\n  formatChosenDate(date) {\r\n    if (this.props.formatChosenDate) {\r\n      return this.props.formatChosenDate(date);\r\n    }\r\n    return [\r\n      date.getDate(),\r\n      date.getMonth() + 1,\r\n      date.getFullYear(),\r\n    ].join('/');\r\n  }\r\n\r\n  render() {\r\n    const variables = this.context.theme\r\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\r\n      : variable;\r\n    return (\r\n      <View>\r\n        <View>\r\n          <Text\r\n            onPress={ !this.props.disabled ? this.showDatePicker.bind(this) : undefined }\r\n            style={[\r\n              { padding: 10, color: variables.datePickerTextColor },\r\n              this.state.chosenDate ? this.props.textStyle : this.props.placeHolderTextStyle\r\n            ]}\r\n          >\r\n            {this.state.chosenDate\r\n              ? this.formatChosenDate(this.state.chosenDate)\r\n              : this.props.placeHolderText\r\n                ? this.props.placeHolderText\r\n                : \"Select Date\"}\r\n          </Text>\r\n          <View>\r\n            <Modal\r\n              supportedOrientations={['portrait', 'landscape']}\r\n              animationType={this.props.animationType}\r\n              transparent={this.props.modalTransparent} //from api\r\n              visible={this.state.modalVisible}\r\n              onRequestClose={() => { }}\r\n            >\r\n              <Text\r\n                onPress={() => this.setState({ modalVisible: false })}\r\n                style={{ backgroundColor: variables.datePickerBg, flex: 1 }}\r\n              />\r\n              <DatePickerIOS\r\n                date={\r\n                  this.state.chosenDate\r\n                    ? this.state.chosenDate\r\n                    : this.state.defaultDate\r\n                }\r\n                onDateChange={this.setDate.bind(this)}\r\n                minimumDate={this.props.minimumDate}\r\n                maximumDate={this.props.maximumDate}\r\n                mode=\"date\"\r\n                locale={this.props.locale}\r\n                timeZoneOffsetInMinutes={this.props.timeZoneOffsetInMinutes}\r\n              />\r\n            </Modal>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n"]}